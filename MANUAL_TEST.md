# DTM Web App - 手動テスト手順

## 音声機能の手動テスト

### 前提条件
- 開発サーバーが起動している (`npm run dev`)
- テストユーザーでログイン可能 (`gan.hmhm333@gmail.com` / `password123`)

### テスト手順

#### 1. ログイン
1. ブラウザで `http://localhost:3000/auth/login` を開く
2. メールアドレス: `gan.hmhm333@gmail.com`
3. パスワード: `password123`
4. 「ログイン」ボタンをクリック
5. ✅ ダッシュボードにリダイレクトされることを確認

#### 2. プロジェクト作成
1. 「新規プロジェクト」ボタンをクリック
2. ✅ エディタページ (`/editor/[id]`) にリダイレクトされることを確認

#### 3. トラック追加
1. 左サイドバーの「トラックを追加」ボタンをクリック
2. ✅ 「トラック 1」が表示されることを確認
3. ✅ トラックが選択状態（背景がグレー）になることを確認

#### 4. ノート配置（音出しテスト1）
1. ピアノロール（右側のキャンバスエリア）をクリック
2. ✅ **音が鳴ることを確認** 🎵
3. ✅ クリックした位置にノート（青い矩形）が表示されることを確認

#### 5. 複数ノート配置（音量テスト）
1. ピアノロールの異なる位置（高さ）を複数クリック
2. ✅ **各クリックで異なる音程の音が鳴ることを確認** 🎵
3. ✅ 低い位置 = 高い音、高い位置 = 低い音

#### 6. 再生機能（音出しテスト2）
1. ツールバーの再生ボタン（▶）をクリック
2. ✅ **配置したノートが再生されることを確認** 🎵
3. ✅ 再生ヘッド（赤い縦線）が動くことを確認
4. 停止ボタン（■）をクリック
5. ✅ 再生が停止することを確認

#### 7. テンポ変更テスト
1. ツールバーのテンポ表示（「120 BPM」）の数値を変更
2. 再生ボタンをクリック
3. ✅ **テンポが変わった速度で再生されることを確認** 🎵

#### 8. Mute機能テスト
1. トラックリストのトラック上の「M」ボタンをクリック
2. ✅ 「M」ボタンが赤色になることを確認
3. 再生ボタンをクリック
4. ✅ **音が鳴らないことを確認** 🔇
5. 再度「M」ボタンをクリック
6. ✅ 「M」ボタンがグレーに戻ることを確認
7. 再生ボタンをクリック
8. ✅ **音が鳴ることを確認** 🎵

### 期待結果

すべての✅項目が確認できれば、DTM機能の基本実装は成功です。

特に重要なのは：
- **ノートクリック時に音が鳴る** (手順4)
- **異なる音程が出る** (手順5)
- **再生で音が鳴る** (手順6)
- **テンポが変わる** (手順7)
- **Muteで音が消える** (手順8)

### トラブルシューティング

#### 音が鳴らない場合
1. ブラウザの音量がオンになっているか確認
2. ブラウザのコンソールでエラーが出ていないか確認
3. Tone.jsの初期化が正しく行われているか確認

#### ノートが表示されない場合
1. トラックが選択されているか確認
2. ブラウザのコンソールでSupabaseエラーが出ていないか確認
3. データベースのテーブルが正しく作成されているか確認
